import { Meta, Story } from '@storybook/blocks';
import { RxTable } from './table';
import { RxPagination } from '../pagination/pagination';
import * as RxTableStories from './table.stories';

<Meta title='Data/RxTable' of={RxTableStories} />

# RxTable

Le composant `RxTable` est conçu pour afficher des données tabulaires dans les applications Angular. Il prend en charge diverses fonctionnalités telles que le tri, la sélection et la pagination.

## Caractéristiques

- **Tri**: Tri des colonnes (simple ou multiple)
- **Sélection**: Sélection de lignes (simple ou multiple)
- **Pagination**: Navigation à travers de grands ensembles de données
- **Affichage de grille**: Option pour afficher les bordures de la grille
- **Message personnalisable**: Message configurable pour les données vides

## Installation

```typescript
import { RxTable } from '@lynqis/remanxng/components/table';
```

## Exemples d'utilisation

### Table de base

<Story name="Basic" of={RxTableStories.Basic} />

```html
<rx-table [value]="data">
  <ng-template #header let-columns="columns">
    <tr>
      <th *ngFor="let column of columns">{{column.header}}</th>
    </tr>
  </ng-template>

  <ng-template #body let-item="item" let-columns="columns">
    <tr>
      <td *ngFor="let column of columns">{{item[column.field]}}</td>
    </tr>
  </ng-template>
</rx-table>
```

### Table avec pagination

<Story name="Pagination" of={RxTableStories.Pagination} />

```html
<rx-table [value]="data" [rows]="10">
  <ng-template #header let-columns="columns">
    <tr>
      <th *ngFor="let column of columns">{{column.header}}</th>
    </tr>
  </ng-template>

  <ng-template #body let-item="item" let-columns="columns">
    <tr>
      <td *ngFor="let column of columns">{{item[column.field]}}</td>
    </tr>
  </ng-template>
</rx-table>
```

### Table avec tri


```html
<rx-table [value]="data" [sortMode]="'single'">
  <ng-template #header let-columns="columns">
    <tr>
      <th *ngFor="let column of columns" [class.rx-sort-column]="true" [class.rx-sort-column-active]="isSorted(column.field)" (click)="sortData({field: column.field})">
        {{column.header}}
        <span *ngIf="isSorted(column.field)" class="rx-sort-icon {{sortOrder === 1 ? 'rx-sort-icon-asc' : 'rx-sort-icon-desc'}}"></span>
      </th>
    </tr>
  </ng-template>

  <ng-template #body let-item="item" let-columns="columns">
    <tr>
      <td *ngFor="let column of columns">{{item[column.field]}}</td>
    </tr>
  </ng-template>
</rx-table>
```

### Table avec sélection


```html
<rx-table [value]="data" [selectionMode]="'single'">
  <ng-template #header let-columns="columns">
    <tr>
      <th *ngFor="let column of columns">{{column.header}}</th>
    </tr>
  </ng-template>

  <ng-template #body let-item="item" let-columns="columns">
    <tr [class.rx-selectable-row]="true" [class.rx-row-selected]="isSelected(item)" (click)="onRowSelect(item)">
      <td *ngFor="let column of columns">{{item[column.field]}}</td>
    </tr>
  </ng-template>
</rx-table>
```

## Propriétés

### Tableau des propriétés

| Propriété           | Type             | Description                               | Défaut       |
|:--------------------|:-----------------|:-----------------------------------------|:-------------|
| `value`             | `any[]`          | Les données à afficher                    | `[]`         |
| `tableClass`        | `string`         | Classes CSS supplémentaires               | `''`         |
| `tableStyle`        | `` | Styles CSS supplémentaires          | `{}`         |
| `showGridlines`     | `boolean`        | Afficher les bordures de la grille        | `true`       |
| `emptyMessage`      | `string`         | Message à afficher quand il n'y a pas de données | `Aucune donnée disponible` |
| `selection`         | `any`            | Valeur de sélection actuelle              | `null`       |
| `selectionMode`     | `'single' | 'multiple' | null` | Mode de sélection | `null`       |
| `dataKey`           | `string`         | Clé pour la sélection                    | `''`         |
| `sortField`         | `string`         | Champ de tri actuel                      | `null`       |
| `sortOrder`         | `number`         | Ordre de tri actuel                      | `1`          |
| `multiSortMeta`     | `SortMeta[]`     | Métadonnées pour le tri multiple         | `[]`         |
| `sortMode`          | `'single' | 'multiple'` | Mode de tri | `'single'` |
| `defaultSortOrder`  | `number`         | Ordre de tri par défaut                  | `1`          |
| `rows`              | `number`         | Nombre d'éléments par page               | `10`         |

### Description des propriétés

*   `value`: Les données à afficher
*   `tableClass`: Classes CSS supplémentaires
*   `tableStyle`: Styles CSS supplémentaires
*   `showGridlines`: Afficher les bordures de la grille
*   `emptyMessage`: Message à afficher quand il n'y a pas de données
*   `selection`: Valeur de sélection actuelle
*   `selectionMode`: Mode de sélection
*   `dataKey`: Clé pour la sélection
*   `sortField`: Champ de tri actuel
*   `sortOrder`: Ordre de tri actuel
*   `multiSortMeta`: Métadonnées pour le tri multiple
*   `sortMode`: Mode de tri
*   `defaultSortOrder`: Ordre de tri par défaut
*   `rows`: Nombre d'éléments par page

## Événements

| Événement           | Type             | Description                               |
|:--------------------|:-----------------|-------------------------------------------|
| `selectionChange`   | `EventEmitter<any>` | Émis quand la sélection change         |
| `sortChange`        | `EventEmitter<SortMeta>` | Émis quand le tri change            |

### Description des événements

*   `selectionChange`: Émis quand la sélection change
*   `sortChange`: Émis quand le tri change
